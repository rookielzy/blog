<!DOCTYPE html>
<html lang="en">
    <head>
        <title>任务四：听指令的小方块（一）</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            div.control {
                position: relative;
                left: 40px;
                top: -50px;
            }
            input.control, button.move {
                border: 1px solid #ccc;
                border-radius: 5px;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas" width="500" height="500"></canvas>
        <div class="control">
            <input type="text" class="control">
            <button type="button" class="move">Go</button>
        </div>
        <script>
            const canvas = document.querySelector('#canvas');
            const context = canvas.getContext('2d');
            const input = document.querySelector('input.control');
            const move = document.querySelector('.move');
            var direct = [0, 1, 2, 3];
            var currentDirect = 0;
            function drawGrid() {
                for (let i = 0; i < 10; i++) {
                    context.beginPath();
                    context.moveTo(40, 40*(i + 1));
                    context.strokeStyle = '#ccc';
                    
                    if (i === 0 || i === 9) {
                        context.strokeStyle = 'black';
                    }

                    context.lineTo(440, 40*(i + 1));
                    context.closePath();
                    context.stroke();

                    context.beginPath();
                    context.moveTo(40*(i + 1), 40);
                    context.strokeStyle = '#ccc';
                    
                    if (i === 0) {
                        context.strokeStyle = 'black';
                    }

                    context.lineTo(40*(i + 1), 400);
                    context.closePath();
                    context.stroke();
                }
                context.beginPath();
                context.strokeStyle = 'black';
                context.moveTo(440, 40);
                context.lineTo(440, 400);
                context.closePath();
                context.stroke();
                for (let i = 0; i < 10; i++) {
                    context.beginPath();
                    context.font = '20px Arial';
                    context.textAlign = 'center';
                    context.fillText(i+1, 55+40*i, 35);
                    context.fillText(i+1, 20, 70+36*i);
                    context.closePath();
                    context.fill();
                }
            }
            drawGrid();

            function drawSquare() {
                // Big Square
                context.beginPath();
                context.fillStyle = 'red';
                // context.translate(100, 100);        
                context.rotate(45 * Math.PI/180);                                        
                context.fillRect(240, 240, 40, 40);
                // context.closePath();

                // Small Square
                // context.beginPath();
                context.fillStyle = 'blue';
                context.fillRect(240,240, 40, 10);
                context.closePath();
                context.fill();
            }
            drawSquare();

            function start() {
                const command = input.value;
                switch(command) {
                    case 'GO': 
                        swi
                        break;
                    case 'TUN LEF':

                        break;
                    case 'TUN RIG':

                        break;
                    case 'TUN BAC':

                        break;
                    default:
                        return;
                }
            }
        </script>
    </body>
</html>